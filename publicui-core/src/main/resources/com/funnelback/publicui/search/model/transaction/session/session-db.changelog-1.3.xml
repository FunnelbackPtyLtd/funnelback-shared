<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
  
    <changeSet author="nguillaumin" id="3">
        <comment>FUN-9197: Allow query lengths up to padre's max length</comment>
        <dropNotNullConstraint tableName="searchhistory" columnName="originalquery" columnDataType="varchar(255)"/>
        <modifyDataType 
            columnName="originalquery"
            newDataType="varchar(8196)"
            tableName="searchhistory"/>
        <modifyDataType 
            columnName="queryasprocessed"
            newDataType="varchar(8196)"
            tableName="searchhistory"/>
    </changeSet>
  
</databaseChangeLog>